<div class="container-fluid container-fluid-custom pb-5 mb-5">

  <div class="row mb-4">
    <div class="col">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/password">password</a></li>
          <li class="breadcrumb-item active">
            <%= password.website %>
          </li>
        </ol>
      </nav>
      <div class="col d-flex justify-content-between align-items-center">
        <h1 class="h3">View Password</h1>
        <button type="button" class="btn btn-danger me-2" data-bs-toggle="modal" id="deleteButton"
          data-bs-target="#deleteModal">
          Delete
        </button>
      </div>
    </div>
  </div>


  <form id="form" action="/password/item/<%= passwordID %>?_method=PUT" method="POST" class="position-relative" onsubmit="return validateForm(event)">
    <div class="form-group mb-4">
      <label for="website" class="form-label">Website</label>
        <input type="text" class="form-control" id="website" name="website" placeholder="Website" value="<%= password.website %>"
          maxlength="50" required pattern="^(?!\s*$).+">
          <!-- <div class="invalid-feedback">Please enter a valid title</div> -->
    </div>
  
    <div class="form-group mb-4">
      <label for="username" class="form-label">Username</label>

        <input type="text" class="form-control" id="username" name="username" placeholder="Username" value="<%= password.username %>"
          maxlength="30" required pattern="^(?!\s*$).+">
          <!-- <div class="invalid-feedback">Please enter a valid username</div> -->
    </div>

    <div class="form-group mb-4">
      <label for="password" class="form-label">Password</label>
          <input type="text" class="form-control" id="password" name="password" value="<%= password.password %>"
            placeholder="Password" minlength="8" maxlength="30" required pattern="^(?!\s*$).+">
            <!-- <div class="invalid-feedback">Please enter a valid password of min 8 length</div> -->
          <!-- <div class="visibility-icon-container" onclick="togglePasswordVisibility()">
              <i id="togglePasswordIcon" class="fas fa-eye"></i>
            </div> -->
    </div>

    <div class="form-group mb-4">
      <label for="category" class="form-label">Category</label>
        <input type="text" class="form-control" id="category" name="category" placeholder="Category" value="<%= password.category %>"
          maxlength="20" required pattern="^(?!\s*$).+">
    </div>






     

    <div class="form-group">
      <button type="submit" class="btn btn-primary btn-lg">Update</button>
    </div>

  </form>

</div>



<div class="modal fade" tabindex="-1" role="dialog" id="deleteModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">You are about to delete a password</h5>
        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>
          This will delete your password <b class="fw-bold">
            <%= password.website %>
          </b><br />
          Are you sure?
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

        <form action="/password/item-delete/<%= passwordID %>?_method=DELETE" method="POST" class="position-relative">
          <button type="submit" class="btn btn-primary">Delete Note</button>
        </form>

      </div>
    </div>
  </div>
</div>




<script>
  function validateForm(event)
 {
   const form = document.getElementById("form");
   if(!form.checkValidity())
   {
     event.preventDefault();
     event.stopPropagation();
   }
   else{
     form.classList.add("was-validated");
     return form.checkValidity();
   }
 }
</script>

